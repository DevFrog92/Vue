webpackJsonp([1],{VFlB:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){console.log("this is script file");var e=io("/"),n=document.querySelector("#video-grid"),o=document.createElement("video"),t={},r=new Peer({port:443,config:{iceServers:[{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:turn.bistri.com:80",credential:"homeo",username:"homeo"},{url:"turn:turn.anyfirewall.com:433?transport=tcp",credential:"webrtc",username:"webrtc"},{url:["turn:13.250.13.83:3478?transport=tcp"],credential:"YzYNCouZM1mhqhmseWk6",username:"YzYNCouZM1mhqhmseWk6"}]}});o.muted=!0;var c=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(n){i(o,n),r.on("call",function(e){console.log("calling"),e.answer(n);var o=document.createElement("video");e.on("stream",function(e){i(o,e),console.log(t)})}),e.on("user-connected",function(e){!function(e,n){var o=r.call(e,n);console.log("this is call ");var c=document.createElement("video");o.on("stream",function(e){i(c,e)}),o.on("close",function(){c.remove()}),t[e]=o}(e,n)}),e.on("user-disconnected",function(e){t[e]&&t[e].close()})}),r.on("call",function(e){c({video:!0,audio:!0},function(n){e.answer(n);var o=document.createElement("video");e.on("stream",function(e){i(o,e)})})});function i(e,o){console.log("add video stream"),e.srcObject=o,e.addEventListener("loadedmetadata",function(){e.play()}),console.log("video attached"),n.append(e)}r.on("open",function(n){e.emit("join-room","<%= roomId %>",n)}),e.on("user-connected",function(e){console.log("User connectd :"+e)}),e.on("user-disconnected",function(e){t[e]&&(console.log("disconnetced"),t[e].close())})},r={name:"Room",data:function(){return{}},created:function(){console.log(this.$route.params.roomId)},mounted:function(){t()},methods:{exitRoom:function(){window.open("","_self").close()}}},c={render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",[n("div",{on:{click:this.exitRoom}},[this._v("close")]),this._v(" "),n("div",{attrs:{id:"video-grid"}})])},staticRenderFns:[]},i=o("VU/8")(r,c,!1,null,null,null);n.default=i.exports}});
//# sourceMappingURL=1.e39787bc63acba6c47d1.js.map